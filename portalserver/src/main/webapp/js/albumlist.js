define("js/common/html/albumlist.js",function(a){function t(a){e(".playlist__item").removeClass("playlist__item--current"),a.addClass("playlist__item--current"),e(".mod_operate_menu").hide()}var s,l=a("js/common/music.js"),n=l.statistics,e=l.$,r=(l.user,{specilData:null,specialTpl:null}),c={init:function(a){e.extend(r,a),s=a.reportType,o.show(),r.callback&&r.callback()}},o={getMid:function(a){var t=l.util.getTarget(a),s=e(t).parents("li");return s.data("albummid")},play:function(t){t.preventDefault(),t.stopPropagation();l.player.checkPlayerWindow();var s=o.getMid(t);return a.async("js/common/html/albumdata.js",function(a){a.init({mid:s,reportID:l.reportMap.album,play:1},function(){})}),!1},jump:function(a){a.preventDefault(),a.stopPropagation();var t=l.util.getTarget(a),s=e(t);"A"!=t.tagName&&(s=e(t).parents("a"));var i=s.data("albummid"),n=s.data("singermid"),r=s.data("stat")||"",c={};r&&(c.stat=r),i?(c.albummid=i,l.util.gotoAlbum(c)):n&&(c.singermid=n,l.util.gotoSinger(c))},share:function(t){t.preventDefault(),t.stopPropagation();var s=o.getMid(t);a.async("js/common/share.js",function(a){a.show({sharetype:1,albummid:s},t)})},fav:function(t){t.preventDefault(),t.stopPropagation();var s=o.getMid(t);a.async("js/common/html/albumdata.js",function(i){i.init({mid:s,reportID:l.reportMap.album,play:0},function(s){s.length>0?a.async("js/common/fav.js",function(a){a.show({songs:s},t)}):l.popup.show("无可收藏单曲！")})})},down:function(t){t.preventDefault(),t.stopPropagation();var s=o.getMid(t);a.async("js/common/html/albumdata.js",function(t){t.init({mid:s,reportID:l.reportMap.album,play:0},function(t){t.length>0?a.async("js/common/download.js",function(a){a.show(t)}):l.popup.show("无可下载单曲！")})})},bindEvents:function(){r.container.off("click",".js_play").on("click",".js_play",function(a){t(e(this).parents(".playlist__item")),o.play(a);var s=e(this).data("stat")||"";s&&n.pgvClickStat(s)}).off("click","a.js_album").on("click","a.js_album",function(a){t(e(this).parents(".playlist__item")),o.jump(a)}).off("click","a.js_singer").on("click","a.js_singer",function(a){t(e(this).parents(".playlist__item")),o.jump(a)}).off("click",".playlist__item").on("click",".playlist__item",function(){t(e(this))}).off("click",".js_albumlist_more").on("click",".js_albumlist_more",function(){t(e(this))}).off("click",".js_share").on("click",".js_share",function(a){t(e(this).parents(".playlist__item")),o.share(a)}).off("click",".js_fav").on("click",".js_fav",function(a){t(e(this).parents(".playlist__item")),o.fav(a)}).off("click",".js_down").on("click",".js_down",function(a){t(e(this).parents(".playlist__item")),o.down(a)}),a.async("js/common/menu.js",function(){e(".js_albumlist_more").menu({content:["fav","share","down"],type:2})})},show:function(){var a=function(a){{var t,s="";Array.prototype.join}s+='\r\n                    <div class="mod_playlist_text">\r\n                        <ul class="playlist__header">\r\n                            <li class="playlist__header_name">专辑</li>\r\n                            <li class="playlist__header_author">歌手</li>\r\n                            <li class="playlist__header_count">发行时间</li>\r\n                        </ul>\r\n                        <ul class="playlist__list">\r\n			';var l=a.list;for(i=0;i<l.length;i++){var n=l[i];s+='\r\n                            <li class="playlist__item" data-albummid="'+(null==(t=n.albumMID)?"":t)+'" onmouseover="this.className=\'playlist__item playlist__item--hover\'" onmouseout="this.className=\'playlist__item\'">\r\n                                <div class="playlist__cover"><a href="javascript:;" class="js_album" data-albummid="'+(null==(t=n.albumMID)?"":t)+'"><img src="//y.gtimg.cn/mediastyle/global/img/album_300.png" alt="'+(null==(t=n.albumName)?"":_.escape(t))+'" class="playlist__pic"/></a></div>\r\n                                <h4 class="playlist__title"><span class="playlist__title_txt"><a href="javascript:;" class="js_album" data-albummid="'+(null==(t=n.albumMID)?"":t)+'" title="'+(null==(t=n.albumName)?"":_.escape(t))+'">'+(null==(t=n.albumName)?"":_.escape(t))+'</a></span></h4>\r\n                                <div class="mod_list_menu">\r\n                                    <a href="javascript:;" class="list_menu__item list_menu__play js_play" title="播放">\r\n                                        <i class="list_menu__icon_play"></i>\r\n                                        <span class="icon_txt">播放</span>\r\n                                    </a>\r\n                                    <a href="javascript:;" class="list_menu__item list_menu__add js_fav" title="添加到歌单">\r\n                                        <i class="list_menu__icon_add"></i>\r\n                                        <span class="icon_txt">添加到歌单</span>\r\n                                    </a>\r\n                                    <a href="javascript:;" class="list_menu__item list_menu__down js_down" title="下载">\r\n                                        <i class="list_menu__icon_down"></i>\r\n                                        <span class="icon_txt">下载</span>\r\n                                    </a>\r\n                                    <a href="javascript:;" class="list_menu__item list_menu__share js_share" title="分享">\r\n                                        <i class="list_menu__icon_share"></i>\r\n                                        <span class="icon_txt">分享</span>\r\n                                    </a>\r\n                                </div>\r\n                                <div class="playlist__author">\r\n                                    <a href="javascript:;" class="js_singer" data-singermid="'+(null==(t=n.singerMID)?"":t)+'" title="'+(null==(t=n.singerName)?"":_.escape(t))+'">'+(null==(t=n.singerName)?"":_.escape(t))+'</a>\r\n                                </div>\r\n                                <div class="playlist__other">\r\n                                    '+(null==(t=n.publicTime)?"":t)+"\r\n                                </div>\r\n                            </li>\r\n			"}return s+="\r\n                        </ul>\r\n                    </div>"},t=(r.specialTpl||a)({list:r.specilData});r.container.html(t).find("img").lazyload(),o.bindEvents()}};return c});/* |xGv00|95e4b169e3422986f3cf02b63b5c3c4b */
